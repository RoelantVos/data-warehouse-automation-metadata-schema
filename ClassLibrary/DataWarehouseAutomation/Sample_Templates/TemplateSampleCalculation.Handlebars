--Example using a query as a source rather than an attribute.
{{#each dataObjectMappings }}

--Working on {{mappingName}}.

SELECT
{{#each dataItemMappings}}
  {{#each sourceDataItems}}
  {{stringwrap name "[" "]"}}{{dataQueryCode}} as {{../targetDataItem.name}}{{/each}}{{#unless @last}},{{/unless}}
{{/each}}
FROM {{targetDataObject.name}}

{{/each}}